---
id: task-0012
title: Bar/Column Chart Components with Responsive Design
description: Create interactive bar and column chart components using D3.js with responsive design and animation support
assignee: developer-a-frontend
status: To Do
labels: phase-2, d3js, bar-chart, column-chart, responsive, animation
created_date: 2025-08-25
updated_date: 2025-08-25
dependencies: task-0011
priority: High
estimate: 4 days
parent_epic: task-0010
---

# Bar/Column Chart Components with Responsive Design

## Description
Build comprehensive bar and column chart components that support learning analytics visualization for course completions, certification progress, and program enrollment data. Components must handle multi-tenant data with responsive design and smooth animations.

**Business Value**: Enables visualization of completion rates, progress tracking, and comparative analytics across different learning programs and time periods for Kineo's customer base.

## Acceptance Criteria
- [ ] `BarChart` component for horizontal bar visualizations
- [ ] `ColumnChart` component for vertical column visualizations
- [ ] Support for grouped and stacked bar/column variants
- [ ] Responsive design working across mobile, tablet, desktop breakpoints
- [ ] Smooth enter/update/exit animations with configurable timing
- [ ] Interactive hover effects with tooltips showing detailed data
- [ ] Accessibility compliance with proper ARIA labels and keyboard navigation
- [ ] Support for categorical and time-based x-axis data
- [ ] Configurable color schemes integrated with theme system
- [ ] Data label options (inside bars, outside bars, or none)
- [ ] Sorting capabilities (ascending, descending, custom order)
- [ ] Loading states and error handling for async data

## Implementation Notes
**Chart Variants**:
- **Simple Bar/Column**: Single data series with categorical axis
- **Grouped Bar/Column**: Multiple data series side-by-side comparison
- **Stacked Bar/Column**: Cumulative data visualization with part-to-whole relationships
- **Horizontal vs Vertical**: Orientation based on data label length and user preference

**Learning Analytics Use Cases**:
- Course completion rates by department/time period
- Certification progress across different programs
- Learning hours comparison by user groups
- Program enrollment trends over time
- Manager team performance comparisons

**Animation Framework**:
```typescript
// Animation configuration
interface AnimationConfig {
  duration: number; // Default: 750ms
  easing: string;   // Default: 'ease-in-out'
  stagger?: number; // Delay between elements: 50ms
  enabled: boolean; // Respect user motion preferences
}
```

**Responsive Behavior**:
- Desktop (>1024px): Full labels, wider bars, detailed tooltips
- Tablet (768-1024px): Abbreviated labels, medium bars, compact tooltips
- Mobile (<768px): Minimal labels, narrower bars, simplified tooltips
- Text rotation and truncation based on available space

## Dependencies
- **Requires**: Base Chart Architecture (task-0011)
- **Integrates**: Zustand theme store, responsive utilities
- **Uses**: D3.js scales (band, linear), axes, transitions

## Related Tasks
- **Epic**: D3.js Chart Component Library Foundation (task-0010)
- **Parallel**: Line/Area Charts (task-0013), Pie/Donut Charts (task-0014)
- **Follows**: Chart testing and documentation (task-0015)

## Detailed Implementation Steps

### 1. Core Component Structure
```typescript
interface BarChartProps {
  data: ChartData[];
  config: BarChartConfig;
  variant: 'simple' | 'grouped' | 'stacked';
  orientation: 'horizontal' | 'vertical';
  onBarClick?: (data: ChartData) => void;
}

interface BarChartConfig extends ChartConfig {
  barPadding?: number;      // Default: 0.1
  groupPadding?: number;    // Default: 0.05
  showLabels?: boolean;     // Default: true
  labelPosition?: 'inside' | 'outside' | 'none';
  sortBy?: 'value' | 'label' | 'custom';
  sortOrder?: 'asc' | 'desc';
}
```

### 2. D3.js Implementation
- Use `d3.scaleBand()` for categorical axis
- Use `d3.scaleLinear()` for value axis  
- Implement proper enter/update/exit pattern for data binding
- Add smooth transitions with `d3.transition()`
- Handle data updates without full re-render

### 3. Responsive Features
- Dynamic bar width calculation based on container size
- Text label truncation and rotation for narrow spaces
- Adaptive tooltip positioning to stay within viewport
- Collapsible axes labels for mobile views

### 4. Interactivity
- Hover effects with bar highlighting and smooth transitions
- Click handlers for drill-down navigation
- Keyboard navigation support (arrow keys, Enter, Space)
- Focus indicators for accessibility

### 5. Integration Points
- Use existing `Card` component for chart container
- Integrate with dashboard grid system for responsive layout
- Connect to mock API services for development data
- Follow established error handling patterns

### 6. Testing Requirements
- Unit tests for all chart variants and configurations
- Responsive behavior tests across breakpoints
- Animation timing and performance tests
- Accessibility compliance verification
- Data update and re-render performance tests

## Performance Requirements
- Render time: <150ms for up to 50 bars
- Smooth animations at 60fps
- Memory efficient for datasets up to 1000+ data points
- Responsive resize: <100ms to adjust layout

## Storybook Documentation
- Create stories for all chart variants
- Include responsive behavior examples
- Document theming options and customization
- Provide interactive controls for configuration testing
- Add accessibility testing scenarios